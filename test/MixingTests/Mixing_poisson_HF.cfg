process HcalMixing = {

  untracked PSet maxEvents = {untracked int32 input = 1000}

  service = MessageLogger { }
  service = SimpleMemoryCheck{ }
  service = DaqMonitorROOTBackEnd{ }
  service = RandomNumberGeneratorService {
            untracked uint32 sourceSeed = 135799753
            PSet moduleSeeds =
            {
#              untracked uint32 VtxSmeared = 98765432
#              untracked uint32 g4SimHits  = 11
              untracked uint32 mix        = 12345
              untracked uint32 ecalUnsuppressedDigis = 43434
              untracked uint32 hcalDigis = 43434
      }
  }


   source = PoolSource
   {
     untracked vstring fileNames = {'file:simhits_HF.root'}
     untracked uint32 debugVebosity = 10
     untracked bool   debugFlag     = true
   }


  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"

##-- calibrations
  include "Configuration/StandardSequences/data/FakeConditions.cff"

##-- Mixing Module (for pileup simulation)
  include "SimGeneral/MixingModule/data/mixLowLumPU.cfi"
  replace mix.input.fileNames = {'file:simhits_HF.root'}
  replace mix.input.averageNumber = 1
  replace mix.input.minBunch = -5
  replace mix.input.maxBunch = 3

##-- digitization
  include "SimCalorimetry/Configuration/data/SimCalorimetry.cff"

  sequence caloDigi = { mix, calDigi }

  module hcalDigiAnalyzer = HcalDigiTester{
        untracked string outputFile = 'histo_HF_poisson.root'
        untracked string hcalselector   = 'HF'
        untracked bool subpedvalue      = false
  }

path p = {caloDigi, hcalDigiAnalyzer}

  }		
